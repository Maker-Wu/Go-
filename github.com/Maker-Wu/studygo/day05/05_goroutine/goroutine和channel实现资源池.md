利用 goroutine 和 channel 进行 go 的并发模式，实现一个资源池实例，资源池可以存储一定数量的资源，用户程序从资源池获取资源进行使用，使用完成将资源释放回资源池

```go
//一个安全的资源池，被管理的资源必须都实现io.Close接口
type Pool struct{
    m sync.Mutex
    res chan io.Closer
    factory func () (io.Closer, error)    
    closed bool
}
```

这个结构体Pool有四个字段 

- m 是一个互斥锁，这主要是用来保证在多个 goroutine 访问资源时，池内的值是安全的。 
- res 字段是一个有缓冲的通道，用来保存共享的资源，这个通道的大小，在初始化 Pool 的时候就指定的。注意这个通道的类型是 io.Closer 接口，所以实现了这个 io.Closer 接口的类型都可以作为资源，交给我们的资源池管理。
- factory 这个是一个函数类型，它的作用就是当需要一个新的资源时，可以通过这个函数创建，也就是说它是生成新资源的，至于如何生成、生成什么资源，是由使用者决定的，所以这也是这个资源池灵活的设计的地方。
- closed字段表示资源池是否被关闭，如果被关闭的话，再访问是会有错误的。